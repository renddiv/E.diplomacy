<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>E-Diplomacy Online Shop</title>

<style>
/* Styling agar tampilan tetap sama, dengan sedikit perbaikan responsivitas */
body {
    font-family: 'Times New Roman', Times, serif;
    margin: 0;
    background-color: #f4f4f4;
}

header {
    background-color: #003366;
    color: white;
    padding: 10px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap; /* Untuk responsivitas */
}

.logo {
    display: flex;
    align-items: center;
}

.logo img {
    height: 40px; /* Atur tinggi logo */
    margin-right: 10px;
}

nav a {
    color: white;
    text-decoration: none;
    margin-left: 15px;
}

.hero {
    height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    background-color: #003366;
}

.content {
    max-width: 1100px;
    margin: 20px auto;
    padding: 20px;
    background: white;
}

.products-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.product-item {
    border: 1px solid #ddd;
    padding: 15px;
    border-radius: 5px;
    text-align: center;
}

.product-item img {
    width: 100%;
    height: auto;
}

.product-item button {
    background: #4CAF50;
    color: white;
    border: none;
    padding: 10px;
    cursor: pointer;
    margin-top: 10px;
    width: 100%;
}

.cart-icon {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #003366;
    color: white;
    border: none;
    padding: 15px;
    border-radius: 50%;
    cursor: pointer;
}

.modal {
    display: none;
    position: fixed;
    background: rgba(0,0,0,0.5);
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 1000;
}

.modal-content {
    background: white;
    margin: 10% auto;
    padding: 20px;
    width: 80%;
    max-width: 600px;
    border-radius: 5px;
}
</style>
</head>

<body>

<header>
    <div class="logo">
      <img src="E_diplomacy-removebg-preview.png" alt="E-Diplomacy Logo">
      <span>E-Diplomacy</span> <!-- Judul website di sebelah gambar -->
    </div>
    <nav>
      <a href="index.html">Home</a>
      <a href="Merch.html">Merch</a>
      <a href="Kontak.html">Contact</a>
      <a href="https://www.instagram.com/the.diplomacy/">
        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path fill="currentColor" fill-rule="evenodd" d="M3 8a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v8a5 5 0 0 1-5 5H8a5 5 0 0 1-5-5V8Zm5-3a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3H8Zm7.597 2.214a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2h-.01a1 1 0 0 1-1-1ZM12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm-5 3a5 5 0 1 1 10 0 5 5 0 0 1-10 0Z" clip-rule="evenodd"/>
        </svg>
      </a>
      <a href="https://wa.me/082142985955">
        <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path fill="currentColor" fill-rule="evenodd" d="M12 4a8 8 0 0 0-6.895 12.06l.569.718-.697 2.359 2.32-.648.379.243A8 8 0 1 0 12 4ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10a9.96 9.96 0 0 1-5.016-1.347l-4.948 1.382 1.426-4.829-.006-.007-.033-.055A9.958 9.958 0 0 1 2 12Z" clip-rule="evenodd"/>
          <path fill="currentColor" d="M16.735 13.492c-.038-.018-1.497-.736-1.756-.83a1.008 1.008 0 0 0-.34-.075c-.196 0-.362.098-.49.291-.146.217-.587.732-.723.886-.018.02-.042.045-.057.045-.013 0-.239-.093-.307-.123-1.564-.68-2.751-2.313-2.914-2.589-.023-.04-.024-.057-.024-.057.005-.021.058-.074.085-.101.08-.079.166-.182.249-.283l.117-.14c.121-.14.175-.25.237-.375l.033-.066a.68.68 0 0 0-.02-.64c-.034-.069-.65-1.555-.715-1.711-.158-.377-.366-.552-.655-.552-.027 0 0 0-.112.005-.137.005-.883.104-1.213.311-.35.22-.94.924-.94 2.16 0 1.112.705 2.162 1.008 2.561l.041.06c1.161 1.695 2.608 2.951 4.074 3.537 1.412.564 2.081.63 2.461.63.16 0 .288-.013.4-.024l.072-.007c.488-.043 1.56-.599 1.804-1.276.192-.534.243-1.117.115-1.329-.088-.144-.239-.216-.43-.308Z"/>
        </svg>
      </a>
    </nav>
</header>

<section class="hero">
    <h1>E-Diplomacy Shop</h1>
</section>

<main class="content">
    <h2>Our Merch</h2>
    <div class="products-section">
        <div class="product-item">
            <img src="https://via.placeholder.com/300x200?text=T-Shirt" alt="T-Shirt">
            <h3>T-Shirt</h3>
            <p>Rp150.000</p>
            <button onclick="addToCart('T-Shirt', 150000)">Tambah</button>
        </div>
        <div class="product-item">
            <img src="https://via.placeholder.com/300x200?text=Tote+Bag" alt="Tote Bag">
            <h3>Tote Bag</h3>
            <p>Rp100.000</p>
            <button onclick="addToCart('Tote Bag', 100000)">Tambah</button>
        </div>
        <div class="product-item">
            <img src="https://via.placeholder.com/300x200?text=Mug" alt="Mug">
            <h3>Mug</h3>
            <p>Rp80.000</p>
            <button onclick="addToCart('Mug', 80000)">Tambah</button>
        </div>
    </div>
</main>

<button class="cart-icon" onclick="openCart()">ðŸ›’ <span id="cartCount">0</span></button>

<!-- MODAL CART -->
<div class="modal" id="cartModal">
    <div class="modal-content">
        <h2>Keranjang</h2>
        <div id="cartItems"></div>
        <p>Total: Rp <span id="total">0</span></p>
        <button onclick="checkout()">Checkout</button>
        <button onclick="closeCart()">Tutup</button>
    </div>
</div>

<!-- MODAL CHECKOUT -->
<div class="modal" id="checkoutModal">
    <div class="modal-content">
        <h2>Checkout</h2>
        <input type="text" id="name" placeholder="Nama" required><br><br>
        <textarea id="address" placeholder="Alamat" required></textarea><br><br>
        <button onclick="payment()">Lanjut Bayar</button>
        <button onclick="closeCheckout()">Tutup</button>
    </div>
</div>

<script>
/* =========================
   JAVASCRIPT SYSTEM TOKO
========================= */

let cart = JSON.parse(localStorage.getItem("cart")) || [];

/* Tambah produk */
function addToCart(name, price) {
    let item = cart.find(i => i.name === name);
    if (item) {
        item.qty++;
    } else {
        cart.push({ name, price, qty: 1 });
    }
    saveCart();
    alert("Produk ditambahkan!");
}

/* Simpan */
function saveCart() {
    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartCount();
}

/* Update icon */
function updateCartCount() {
    let totalQty = cart.reduce((a, b) => a + b.qty, 0);
    document.getElementById("cartCount").textContent = totalQty;
}
updateCartCount();

/* Buka keranjang */
function openCart() {
    document.getElementById("cartModal").style.display = "block";
    renderCart();
}

/* Tutup keranjang */
function closeCart() {
    document.getElementById("cartModal").style.display = "none";
}

/* Render isi keranjang */
function renderCart() {
    let list = document.getElementById("cartItems");
    let total = 0;
    list.innerHTML = "";

    cart.forEach((item, index) => {
        total += item.price * item.qty;

        let p = document.createElement("p");
        p.textContent = `${item.name} x ${item.qty} - Rp ${item.price * item.qty}`;
        let btn = document.createElement("button");
        btn.textContent = "Hapus";
        btn.onclick = () => removeItem(index);
        p.appendChild(btn);
        list.appendChild(p);
    });

    document.getElementById("total").textContent = total;
}

/* Hapus item */
function removeItem(index) {
    cart.splice(index, 1);
    saveCart();
    renderCart();
}

/* Checkout */
function checkout() {
    closeCart();
    document.getElementById("checkoutModal").style.display = "block";
}

/* Tutup checkout */
function closeCheckout() {
    document.getElementById("checkoutModal").style.display = "none";
}

/* Pembayaran */
function payment() {
    let name = document.getElementById("name").value.trim();
    let address = document.getElementById("address").value.trim();

    if (!name || !address) {
        alert("Harap isi nama dan alamat dengan lengkap!");
        return;
    }

    alert("Pembayaran berhasil!\nTerima kasih sudah belanja.");

    cart = [];
    saveCart();
    document.getElementById("checkoutModal").style.display = "none";
    // Reset form
    document.getElementById("name").value = "";
    document.getElementById("address").value = "";
}

// Event listener untuk menutup modal dengan klik di luar (opsional)
window.onclick = function(event) {
    let cartModal = document.getElementById("cartModal");
    let checkoutModal = document.getElementById("checkoutModal");
    if (event.target === cartModal) {
        closeCart();
    }
    if (event.target === checkoutModal) {
        closeCheckout();
    }
};
</script>

</body>
</html>